<!DOCTYPE html>

<html>
<head>
    <title>Advanced JS Class</title>
</head>
<body>

<div>A</div>
<div>B</div>
<div>C</div>
<div>D</div>


<script>
    'use strict';

    // Array destructuring.


    let createFruit = function(...params) {
        console.log(params);
        return {
            id: params[0],
            name: params[1],
            weight: params[2],
            price: params[3],
            quantity: params[4]
        }
    }



    let concatFruitObjects = function(fruits, fruit) {
        return fruits.concat([fruit]);
    }




    let displayTotalNumber = function(fruits) {
        let sum = fruits.reduce( (accum, current) => {
                console.log('acc ', accum, 'cur',current)
        console.log(accum+current.quantity);
        return accum+current.quantity;
    }, 0);


        console.log(sum);
        return sum;
    }



    let calculateTaxRate = function(fruit) {
        let sum = fruits.reduce( (accum, current) => {
                console.log('acc ', accum, 'cur',current)
        console.log(accum+current.quantity);
        return accum+(current.quantity * current.price);
    }, 0);

        let tax = sum * 0.45;
        console.log(tax);
    return tax;
    }




    // Main function
    let fruits = [];
    fruits = concatFruitObjects(fruits, createFruit(1, 'Banana', 0.1, 10, 1));
    fruits = concatFruitObjects(fruits, createFruit(2, 'Apple', 0.2, 0.5, 6));
    fruits = concatFruitObjects(fruits, createFruit(3, 'Orange', 0.2, 5, 12));




    fruits = concatFruitObjects(fruits, createFruit(4, 'Pear', 0.1, 1, 4));
    fruits = concatFruitObjects(fruits, createFruit(5, 'Dragonfruit', 1, 5, 1));

    displayTotalNumber(fruits);
    calculateTaxRate(fruits);

</script>
</body>
</html>